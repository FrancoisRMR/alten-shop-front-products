<div class="app-frame">
  <app-list
    [items]="data"
    [gridItemTemplate]="gridItemTemplate"
    [listItemTemplate]="gridItemTemplate"
    [sortKey]="sortKey"
    [sortOptions]="options"
    (filtered)="filtered($event)"
  ></app-list>
</div>

<!-- GRID TEMPLATE -->
<ng-template #gridItemTemplate let-item let-i="rowIndex" let-display="display">
  <div
    class="d-flex flex-column gap-3"
    [ngClass]="{ 'border-top-1 surface-border': i !== 0 }"
  >
    <div class="position-relative">
      <!-- IMAGE -->
      <img
        class="block mx-auto border-round w-100"
        [src]="
          'https://primefaces.org/cdn/primeng/images/demo/product/' + item.image
        "
        [alt]="item.name"
      />

      <!-- INVENTORY STATUS -->
      <p-tag
        [value]="item.inventoryStatus"
        [severity]="getSeverity(item)"
        class="position-absolute"
        [style.left.px]="4"
        [style.top.px]="4"
      ></p-tag>
    </div>

    <div
      class="d-flex flex-column justify-content-between align-items-center flex-1 gap-1"
    >
      <!-- CATEGORY -->
      <div class="d-flex flex-row gap-1">
        <i class="pi pi-tag" style="color: 'var(--primary-color)'"></i>
        <span class="font-medium text-secondary text-sm">{{
          item.category
        }}</span>
      </div>

      <!-- NAME -->
      <div class="text-lg font-medium text-900">{{ item.name }}</div>

      <!-- DESCRIPTION -->
      <div class="text-lg font-medium text-900">{{ item.description }}</div>

      <!-- RATING -->
      <p-rating
        [ngModel]="item.rating"
        [readonly]="true"
        [cancel]="false"
      ></p-rating>

      <!-- PRICE -->

      <span class="text-xl font-semibold text-900">{{ "$" + item.price }}</span>

      <!-- CART BUTTON -->
      <div class="d-flex flex-row-reverse gap-2">
        <p-button
          icon="pi pi-shopping-cart"
          class="flex-auto md:flex-initial white-space-nowrap"
          [disabled]="item.inventoryStatus === 'OUTOFSTOCK'"
        ></p-button>
      </div>
    </div>
  </div>
</ng-template>
